<html>
  <head>
    <title>Sage</title>

    <!-- Cloud File Manager -->
    <script type="text/javascript" src="//concord-consortium.github.io/cloud-file-manager/js/globals.js"></script>
    <script type="text/javascript" src="//concord-consortium.github.io/cloud-file-manager/js/app.js"></script>
    <link rel="stylesheet" href="//concord-consortium.github.io/cloud-file-manager/css/app.css">

  </head>
  <body>
    <div id="wrapper">
    </div>
    <script>
    if(self != top) {
      // redirect to non CFM wrapped version if we are in an iframe.
      window.location = window.location.pathname.replace("sage","index");
    }
      var buildInfo = "2016-05-31 1.0.0 ded48a6 chart@concord.org".split(" ");
      var buildDate = buildInfo[0];
      var tags      = buildInfo[1];
      var commit    = buildInfo[2];
      var versionString = buildDate + " | " + commit;


      var options = {
        app: "index.html",
        autoSaveInterval: 5,
        mimeType: "application/json",
        appName: "Sage",
        appVersion: tags,
        appBuildNum: commit,
        providers: [
          "localStorage",
          {
            "name": "readOnly",
            "displayName": "Sage Examples",
            "src": "examples.json"
          },
          {
            "name": "googleDrive",
            "clientId": "1095918012594-svs72eqfalasuc4t1p1ps1m8r9b8psso.apps.googleusercontent.com"
          },
          {
            "name": "documentStore",
            "patch": true
          }
        ],
        ui: {
          menu: CloudFileManager.DefaultMenu,
          menuBar: {
            info: versionString
          }
        }
      }
      CloudFileManager.createFrame(options, "wrapper");
      // A poor excuse for namespacing...
      SageCloundFileManager = CloudFileManager;
    </script>
  </body>
</html>
