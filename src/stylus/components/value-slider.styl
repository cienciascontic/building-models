@require "node-z-index.styl"

gray-fill   = #dbdbea

.value-slider
  z-index: $node-z-index + 2  // put slider above node
  position relative
  margin 1em
  .slider-line
    fill none

  .slider-shape
    fill black
    stroke none
  .svg-background
    position relative
  &.no-handle
    cursor not-allowed
  .value-slider-handle
    z-index $node-z-index + 1
    cursor pointer
    position absolute
    box-sizing border-box
    background-color light-blue
    border 1.8px solid white
    enable-flex(justify:center, alignContent:center, alignItems:center)
    padding 1px
    box-shadow  1px 1px 1px hsla(1, 0%, 0%, 0.2)
    border-radius 5px
    &:hover
      background-color green-blue
      box-shadow  1px 1px 2px hsla(1, 0%, 0%, 0.4)

    i.icon-codap-smallSliderLines
      color:white
      font-size 1em
      padding 0
  .number
    display none
    position absolute
    color white
    font-size 9px
    background-color dark-blue
    padding 3px
    border-radius 3px
    left 0px
    &:.visible
      display block
  .legend
    default-font()
    position absolute
    color med-blue
    font-size 9px
    font-weight bold
    enable-flex(alignItems:center, alignContent:center, justify:space-between)
    left -4%
    width 110%
    .min
      float left
      text-align left
    .max
      float right
      text-align right
    .editable
      border: 1px solid #DDD
      border-radius 3px
      padding: 2px
      margin: -4px;
      box-shadow 1px 1px 3px -2px rgba(0,0,0,0.75)
    input
      width 100px

  &.vertical
    .legend
      top -4%
      height 110%
      display flex
      flex-direction column

    .value-slider-handle
      background-color #DDD
    .legend
      color rgba(1, 136, 158, 0.42)

  &.filled
    .value-slider-handle
      background-color codap-orange

    .value-slider-handle:after
      content ""
      position absolute
      left 100%
      top 3px
      width 0
      height 2px
      border-top 3px solid transparent
      border-left 6px solid codap-orange
      border-bottom 3px solid transparent

    .slider-line
      fill none
      stroke-width 8
      stroke-linecap round

      &.fill-line
        stroke-linecap butt

        &.cap
          stroke-linecap round

// handle icon
.rotated {
  writing-mode: vertical-rl;
}
